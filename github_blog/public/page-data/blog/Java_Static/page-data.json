{"componentChunkName":"component---src-templates-page-js","path":"/blog/Java_Static","result":{"data":{"markdownRemark":{"frontmatter":{"title":"","date":null,"tags":null,"thumbnail":null},"html":"<h1>Java의 Static 언제 사용하고 언제 사용하지 말아야 할까?</h1>\n<hr>\n<ol>\n<li>자바 static 이해하기</li>\n<li>static을 사용하는 경우</li>\n<li>static 사용시 주의점</li>\n</ol>\n<hr>\n<h2>1. 자바 static 이해하기</h2>\n<p>자바의 static을 알아보기 위해서는 우선 자바의 메모리에 대해 이해할 필요가 있다.</p>\n<p>자바의 메모리는 크게 stack, heap, static 이렇게 3가지 영역이 있는데, 스태틱 변수와 메소드는 static 메모리 영역에 할당된다. </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 314px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 163.29787234042553%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img memory structure\"\n        title=\"img memory structure\"\n        src=\"/static/1bfcb1f4bda14dc074d92ca7b5b94bf9/5b158/img_memory_structure.png\"\n        srcset=\"/static/1bfcb1f4bda14dc074d92ca7b5b94bf9/4dcb9/img_memory_structure.png 188w,\n/static/1bfcb1f4bda14dc074d92ca7b5b94bf9/5b158/img_memory_structure.png 314w\"\n        sizes=\"(max-width: 314px) 100vw, 314px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span><br>\n(그림의 데이터 영역이 static 메모리 영역에 해당된다.)</p>\n<p>[ static 메모리 특징 ]   </p>\n<ol>\n<li>프로그램이 시작될 때 할당되고 종료될 때 해제된다.</li>\n<li>Garbage Collector의 영향을 받지 않는다.</li>\n</ol>\n<p>따라서 자바에서 메소드나 변수에 static 키워드를 붙이면 <code class=\"language-text\">해당 변수와 메소드는 프로그램이 시작될 때 메모리에 할당되어 프로그램이 종료될 때 해제</code>된다.</p>\n<p>프로그램 시작할 때 메모리에 할당되므로 new를 통한 객체 생성 과정을 거치지 않고도 해당 변수나 메소드를 사용할 수 있다.</p>\n<hr>\n<h2>2. static을 사용하는 경우</h2>\n<h3>(1). 객체마다 고정된 변수를 사용하는 경우</h3>\n<p>다음과 같은 Macbook 클래스가 있다고 가정해 보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Macbook</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token class-name\">String</span> maker <span class=\"token operator\">=</span> <span class=\"token string\">\"apple\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Macbook</span> mac1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Macbook</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Macbook</span> mac2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Macbook</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 클래스의 maker 변수는 항상 \"apple\"이다. 이는 객체가 100개가 만들어 져도 항상 같다. 같은 값을 위해 100개의 메모리를 할당하는 것은 낭비가 될 수 있다.</p>\n<p>따라서 이런 경우 <strong>maker를 static변수로 선언하면, 최초에 한번만 메모리에 할당되므로 메모리 효율성을 높일 수 있다.</strong></p>\n<h3>(2). 여러 객체에서 값을 공유</h3>\n<p>다음과 같이 카운트를 올리는 클래스가 있다고 하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Counter</span> <span class=\"token punctuation\">{</span>\n\t\n\t<span class=\"token keyword\">int</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\t\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">addCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>count<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\t\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">Counter</span> c1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tc1<span class=\"token punctuation\">.</span><span class=\"token function\">addCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">Counter</span> c2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Counter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\tc2<span class=\"token punctuation\">.</span><span class=\"token function\">addCount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위의 예에서 c1과 c2의 addCount() 메소드를 호출하고 난 뒤 count의 값은 각각 1일 것이다.</p>\n<p>이 경우 count에 <code class=\"language-text\">static을 붙이면, 여러 객체에서 값을 공유할 수 있고</code>, 각각의 객체에서 addCount가 호출될 때마다 count값이 더해질 것이다.</p>\n<hr>\n<h2>3. static 사용시 주의점</h2>\n<h3>(1). 메모리 낭비</h3>\n<p>static은 잘 사용하면 앞서 언급한 것처럼 메모리 효율성을 높일 수 있지만, <strong>잘못 사용하면 메모리 낭비가 될 수 있다.</strong> 그 이유는 다시 static 메모리 영역의 특성에서 기인하는데, <code class=\"language-text\">프로그램 시작시 할당되면 종료될 때까지 메모리에 남아있기 때문이다.</code></p>\n<p>heap 메모리의 경우 사용하지 않을 때 Garbage Collector가 알아서 수거해 가지만, static 메모리는의 데이터는 그렇지 않다. <a href=\"https://www.quora.com/When-do-Static-Variables-get-Garbage-Collected-in-Java\">참조: When-do-Static-Variables-get-Garbage-Collected-in-Java</a></p>\n<p>따라서, 무분별한 static 키워드의 사용은 오히려 메모리 낭비가 될 수 있다.</p>\n<h3>(2). 디버깅의 어려움</h3>\n<p>static의 장점 중 \"여러 객체에서 값을 공유\"한다는 것은 <code class=\"language-text\">&quot;언제 어디에서 값이 변경될지 모른다&quot;는 단점이 되기도 한다.</code> 이는 디버깅을 어렵게 만드는 요인이 되기도 한다. </p>\n<p>그래서 많은 경우 static과 final을 함께 사용하여, static변수가 변경되지 않도록 하기도 한다.</p>\n<p>하지만 final을 함께 사용할 수 없는 경우에는 결국 해당 static 변수를 주의깊게 관리해야 할 필요가 있다.</p>\n<h3>(3). static 메소드에는 static 변수만 사용 가능</h3>\n<p>당연한 얘기지만 <strong>프로그램이 시작될 때 할당되는 static 메소드에 객체가 생성한 뒤에야 할당되는 일반 변수가 올 수 없기 때문</strong>이다.<br>\n이는 개인적으로 개발할때 은근히 신경쓰이는 단점으로, static 메소드를 유연하게 개발하는데 방해가 된다. 말 그대로 정적(?)이다.</p>\n<hr>\n<p>참고한 자료   </p>\n<ul>\n<li><a href=\"https://wikidocs.net/228\">https://wikidocs.net/228</a></li>\n<li><a href=\"https://yaboong.github.io/java/2018/05/26/java-memory-management/\">https://yaboong.github.io/java/2018/05/26/java-memory-management/</a></li>\n<li><a href=\"https://mangkyu.tistory.com/47\">https://mangkyu.tistory.com/47</a></li>\n<li><a href=\"https://itpangpang.xyz/71\">https://itpangpang.xyz/71</a></li>\n</ul>","fields":{"slug":"Java_Static"}}},"pageContext":{"slug":"Java_Static"}},"staticQueryHashes":["2199005656"]}